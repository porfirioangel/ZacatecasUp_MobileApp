<ion-header>
    <ion-navbar color="primary">
        <ion-title>Promociones</ion-title>
        <ion-buttons go-home-button end></ion-buttons>
    </ion-navbar>
</ion-header>

<ion-content>
    <ion-card *ngFor="let negocio of negociosPromos">
        <ion-card-header ion-item>
            <ion-avatar item-start>
                <img src="{{host}}{{negocio.url_logo || ''}}">
            </ion-avatar>

            <h1 text-wrap>{{negocio.nombre}}</h1>

            <a ion-button icon-only clear color="dark"
               href="{{'https://www.google.com/maps/search/' +
                    '?api=1&query=' + negocio.latitud + ',' +
                    negocio.longitud}}">
                <ion-icon name="map"></ion-icon>
            </a>

            <a ion-button icon-only clear color="dark"
               href="{{'https://m.uber.com/ul/?action=setPickup&' +
                        'client_id=3MtSc1qTVLX-56WlaOFFa8rmuEaHUv8F&' +
                        'pickup=my_location&dropoff[formatted_address]=' +
                        negocio.nombre + '&dropoff[latitude]=' +
                        negocio.latitud + '&dropoff[longitude]=' +
                        negocio.longitud}}">
                <ion-icon name="car"></ion-icon>
            </a>

            <button ion-button icon-only clear color="dark"
                    (click)="openDetallesNegocio(negocio)">
                <ion-icon name="list-box"></ion-icon>
            </button>
        </ion-card-header>

        <hr>

        <ion-card-content>
            <ion-slides loop="true">
                <ion-slide *ngFor="let promocion of negocio.promociones">
                    <img src="{{host}}{{promocion.url_foto || ''}}">
                </ion-slide>
            </ion-slides>
        </ion-card-content>
    </ion-card>

    <ion-card *ngIf="negociosPromos == 0">
        <ion-card-content ion-item="">
            <h2 text-wrap>No se encontraron promociones</h2>
        </ion-card-content>
    </ion-card>
</ion-content>
